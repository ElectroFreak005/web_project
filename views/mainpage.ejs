<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Bebas+Neue&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular-animate.js"></script>
    <title>Main page</title>
    <style>
         *{
            margin: 0;
            padding: 0;
        }
        .header{
            height: 50px;
            font-size: large;
            padding: 10px;
        }
        body{
            background-color: #004D98;
            color: rgb(12, 3, 3);
            font-family: "Bebas Neue";
            font-size: large;
            background: linear-gradient(135deg, rgba(34,193,195,1) 0%, rgba(253,187,45,1) 100%);
            height: 100vh;
        }
        ul{
            list-style-type: none;
            margin: 0;
            padding: 0;
            background-color: #111;
        }
        li{
            float: left;
        }
        li a{
            display: block;
            padding: 10px;
        }
        h1{
            padding: 20px;
        }
        table{
            margin: 50px auto;
            text-align: center;
            padding: 10px;
            border: 1px solid;
            background: radial-gradient(circle, rgba(238,174,202,1) 0%, rgba(148,187,233,1) 100%);
        }
        td{
            border: 1px solid;
        }
        td{
            padding: 10px;
            height: 100px;
            width: 100px;
        }
        td select option{
            text-align: center;
        }
        .formation{
            transition: all linear 0.5s;
            margin: auto;
            text-align: center;
            padding: 10px;
            height: 100px;
            width: 100px;
        }
        .ng-switch-when{
            height: 0;
            width: 0;
            background-color: transparent;
            top:-200px;
            left: 200px;
        }
    </style>
</head>
<body ng-app="myApp" ng-controller="myCtrl">

    <div class="header">

    <ul>
        <li><a href="/">Home</a></li>
        <li><svg height="50" width="200">
            <defs>
              <linearGradient id="grad1" x1="0%" y1="0%" x2="50%" y2="0%">
                <stop offset="0%" style="stop-color:rgb(255,255,0);stop-opacity:1" />
                <stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
              </linearGradient>
            </defs>
            <ellipse cx="100" cy="30" rx="55" ry="55" fill="url(#grad1)" />
            <text fill="#ffffff" font-size="25" font-family="Verdana" x="45" y="35">Fantasy</text>
            Sorry, your browser does not support inline SVG.
          </svg></li>
        <li style="float: right;"><a href="/login" onclick="con(this)">sign out</a></li>
    </ul>
    
    </div>

    <hr>

    <h1 style="text-align: center; margin: auto;">Welcome to Football Fantasy <%= user.name %> <%= user._id %></h1>
    <h2 style="text-align: center; margin: auto;">Select Your Team!!</h2>

    <svg width="100" height="100" style="display: block; margin:auto;">
        <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="yellow"/>
    </svg>

    <p style="text-align: center; margin: auto;">With 70M Budget initially, choose your fantasy team wisely!!.</p>

    <svg width="100" height="100" style="display: block; margin:auto;">
        <circle cx="50" cy="50" r="40" stroke="green" stroke-width="4" fill="blue"/>
    </svg>

    <!-- <div class="formation"> 
        Choose a Formation
        <select ng-model="formation">
        <option value="4-3-3" selected>4-3-3
        <option value="4-2-1-3">4-2-1-3
    </select>  
    </div> -->

    <!-- <div ng-switch="formation">    
    <div ng-switch-when="4-3-3"> -->
        <form action="/submit" method="post">
        <table>
            <tr>
                <td colspan="5"><span>G K</span><br>
                    <select name="gk" id="1" ng-model="gk">
                        <option ng-repeat="x in goalkeeper" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td><span>R B</span><br>
                    <select name="rb" id="1" ng-model="rb">
                        <option ng-repeat="x in rightback" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
                <td><span>C B</span><br>
                    <select name="cb1" id="1" ng-model="cb1">
                        <option ng-repeat="x in centerback" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
                <td style="border: none;"></td>
                <td><span>C B</span><br>
                    <select name="cb2" id="1" ng-model="cb2">
                        <option ng-repeat="x in centerback1" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
                <td><span>L B</span><br>
                    <select name="lb" id="1" ng-model="lb">
                        <option ng-repeat="x in leftback" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="2"><span>C M</span><br>
                    <select name="cm1" id="1" ng-model="cm1">
                        <option ng-repeat="x in centermid" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
                <td colspan="1"><span>D M</span><br>
                    <select name="dm" id="1" ng-model="dm">
                        <option ng-repeat="x in defmid" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
                <td colspan="2"><span>C M</span><br>
                    <select name="cm2" id="1" ng-model="cm2">
                        <option ng-repeat="x in centermid1" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td colspan="2"><span>R W</span><br>
                    <select name="rw" id="1" ng-model="rw">
                        <option ng-repeat="x in rightwing" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
                <td colspan="1"><span>S T / C F</span><br>
                    <select name="st" id="1" ng-model="st">
                        <option ng-repeat="x in centerforward" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
                <td colspan="2"><span>L W</span><br>
                    <select name="lw" id="1" ng-model="lw">
                        <option ng-repeat="x in leftwing" value="{{x}}" selected>{{x.name}} - {{x.value}}</option>
                    </select>
                </td>
            </tr>
        </table>
        <br>
        <div style="text-align: center; margin: auto;" >
            <input type="submit" value="Submit Team">
        </div>
    </form>
    <!-- </div> -->
    <!-- <div ng-switch-when="4-2-1-3">
        <formation2></formation2>
    </div> -->
<!-- </div> -->
    {{gk.value}}
    <h1 style="text-align: center; margin: auto;">Avaliable Budget : {{(budget-(gk.value)).toFixed(2)}}</h1>
    
    <br>
    <hr>
    <br>
    <div style="margin: auto; text-align: center;">
        <label for="name">Search For player: Enter Name: </label>
        <input style="height: 25px;" type="name" name="name" id="name" ng-model="sname">
        <h1>{{sname}}</h1>
        <table>
            <tr>
                <th colspan="4">Top Football Player Details</th>
            </tr>
            <tr>
                <th>Name</th>
                <th>Position</th>
                <th>Value</th>
            </tr>
            <tr ng-repeat="x in playerlist | filter : search_name">
                <td>{{x.name}}</td>
                <td>{{x.position}}</td>
                <td>{{x.value}}</td>
            </tr>
        </table>
    </div>
    <script>
        var con = function(x){
            var val = confirm("Do yo want to sign out?");
            if(val != true)
            {
                x.href="mainpage.html";
            }
        }
        var app = angular.module("myApp",[]);
        app.controller("myCtrl",function($scope,$http){
            $scope.playerlist=[{}]
            $http.get("/playerlist").then(function (response) {
                console.log(response.data);
                $scope.playerlist = response.data;
            });
            $scope.sname = '';
            $scope.search_name = function(x){
                if($scope.sname === '' || !$scope.sname)
                {
                    return true;
                }
                return x.name.toLowerCase().indexOf($scope.sname.toLowerCase()) != -1;
            }
            $scope.updateSearch = function() {
                console.log("calling update func");
                $scope.search_name = search_name;
            };
            
            $scope.budget = 70;
            $scope.gk={name:"",value:0.0};
            $scope.lb={name:"",value:0.0};
            $scope.cb1={name:"",value:0.0};
            $scope.cb2={name:"",value:0.0};
            $scope.rb={name:"",value:0.0};
            $scope.cm1={name:"",value:0.0};
            $scope.dm={name:"",value:0.0};
            $scope.cm2={name:"",value:0.0};
            $scope.lw={name:"",value:0.0};
            $scope.st={name:"",value:0.0};
            $scope.rw={name:"",value:0.0};

            $scope.goalkeeper = [{name:"Allison",value:5.4},{name:"Ederson",value:5.4},{name:"Nick Pope",value:5.4},{name:"Emiliano Martinez",value:5.0},{name:"De Gea",value:5.0},{name:"Lloris",value:5.4},]
            $scope.rightback = [{ name: "Trent Alexander-Arnold", value: 6.4 },{ name: "Achraf Hakimi", value: 5.8 },{ name: "Reece James", value: 5.6 },{ name: "Kyle Walker", value: 5.4 },{ name: "Dani Carvajal", value: 5.3 },{ name: "Kieran Trippier", value: 5.2 }]
            $scope.centerback1 = [{ name: "Giorgio Chiellini", value: 7.0 },{ name: "Marquinhos", value: 6.8 },{ name: "Milan Škriniar", value: 6.5 },{ name: "Presnel Kimpembe", value: 6.2 },{ name: "Diego Carlos", value: 6.0 },{ name: "Matthijs de Ligt", value: 5.8 }];
            $scope.centerback = [{name:"Virgil van Dijk",value:6.6},{name:"Rúben Dias",value:6.0},{name:"Aymeric Laporte",value:5.6},{name:"Lisandro Martínez",value:5.0},{name:"Joel Matip",value:5.9},{name:"John Stones",value:5.5},]
            $scope.leftback = [{name:"Andy Robertson",value:6.8},{name:"Oleksandr Zinchenko",value:5.2},{name:"Joao Cancelo",value:7.1},{name:"Luke Shaw",value:5.1},{name:"Aaron Cresswell",value:4.7},{name:"Ben Chilwell",value:5.9},]
            $scope.centermid = [{ name: "Kevin De Bruyne", value: 7.2 },{ name: "N'Golo Kanté", value: 6.5 },{ name: "Frenkie de Jong", value: 6.0 },{ name: "Luka Modrić", value: 5.8 },{ name: "Bruno Fernandes", value: 5.6 },{ name: "Sergio Busquets", value: 5.4 }];
            $scope.defmid = [{ name: "Casemiro", value: 6.2 },{ name: "Joshua Kimmich", value: 6.0 },{ name: "Rodri", value: 5.7 },{ name: "Fabinho", value: 5.6 },{ name: "Declan Rice", value: 5.4 },{ name: "Wilfred Ndidi", value: 5.2 }];
            $scope.centermid1 = [{ name: "Paul Pogba", value: 7.0 },{ name: "Toni Kroos", value: 6.8 },{ name: "Christian Eriksen", value: 6.5 },{ name: "Miralem Pjanić", value: 6.2 },{ name: "Isco", value: 6.0 },{ name: "Saul Niguez", value: 5.8 }];
            $scope.rightwing = [{ name: "Lionel Messi", value: 9.5 },{ name: "Mohamed Salah", value: 8.0 },{ name: "Jadon Sancho", value: 7.2 },{ name: "Raheem Sterling", value: 6.8 },{ name: "Angel Di María", value: 6.5 },{ name: "Bernardo Silva", value: 6.0 }];
            $scope.centerforward = [{ name: "Robert Lewandowski", value: 8.5 },{ name: "Karim Benzema", value: 7.5 },{ name: "Erling Haaland", value: 7.0 },{ name: "Harry Kane", value: 6.8 },{ name: "Romelu Lukaku", value: 6.5 },{ name: "Cristiano Ronaldo", value: 6.2 }];
            $scope.leftwing = [{ name: "Neymar", value: 8.0 },{ name: "Sadio Mané", value: 7.2 },{ name: "Marcus Rashford", value: 6.5 },{ name: "Leroy Sané", value: 6.0 },{ name: "Gareth Bale", value: 5.8 },{ name: "Heung-Min Son", value: 5.6 }];
        })
    </script>
</body>
</html>